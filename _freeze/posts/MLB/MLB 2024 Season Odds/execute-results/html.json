{
  "hash": "f94afb31fb610b642ff0665ec09e50e3",
  "result": {
    "markdown": "---\ntitle: \"Put Your Money Where Your Mouth Is: Built For the Postseason Edition\"\nauthor: \"Zander Gordan\"\ndate: \"2024-03-14\"\ncategories: [sports, baseball, math]\n---\n\n\nThe 2024 MLB season is almost underway, and oddsmakers have set their predictions for the season.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ndf <- read_csv(\"2024seasonOdds.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat <- vroom(...)\n  problems(dat)\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 30 Columns: 3\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): team\ndbl (1): Ewins\nnum (1): OddsWS\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30 × 3\n   team      Ewins OddsWS\n   <chr>     <dbl>  <dbl>\n 1 Dodgers   104.     320\n 2 Braves    102.     450\n 3 Astros     93.5    700\n 4 Yankees    91.5    950\n 5 Phillies   89.5   1500\n 6 Orioles    89.5   1400\n 7 Rangers    88.5   1400\n 8 Mariners   87.5   2000\n 9 Twins      87.5   2100\n10 Blue Jays  86.5   1800\n# ℹ 20 more rows\n```\n:::\n:::\n\n\nI have collected the odds from Fanduel on each MLB team's over/under for total regular season wins, and the odds of the team winning the world series. How do these correlate?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  ggplot(aes(x = Ewins, y = OddsWS)) +\n  geom_point() + scale_y_log10()\n```\n\n::: {.cell-output-display}\n![](MLB-2024-Season-Odds_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nIt seems that there is pretty much a log-linear inverse relationship between expected win total (technically an over under is not the same thing as an expected value, but I will use the terms interchangeably) and your winnings from betting the team to win the world series. Notably, for the worst teams, you do not win as much for betting on them as you might expect, no doubt the oddsmakers want to limit their potential downside from those who are attracted to the most outrageous bets.\n\nI think it may be useful also to convert the odds to break-even win probabilities:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(plotly)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'plotly'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:stats':\n\n    filter\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:graphics':\n\n    layout\n```\n:::\n\n```{.r .cell-code}\ndf <- df %>% \n  mutate(pWS = 100 / (100 + OddsWS),\n         pWS = pWS / sum(pWS))\n\n\np <- df %>% \n  ggplot(aes(x = Ewins, y = pWS, text = team)) +\n  geom_point() + scale_y_log10() \n\nggplotly(p)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-b3e728e88f3a64cf471f\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b3e728e88f3a64cf471f\">{\"x\":{\"data\":[{\"x\":[103.5,101.5,93.5,91.5,89.5,89.5,88.5,87.5,87.5,86.5,84.5,84.5,83.5,83.5,83.5,82.5,81.5,80.5,80.5,79.5,77.5,77.5,76.5,75.5,73.5,72.5,66.5,60.5,59.5,57.5],\"y\":[-0.72784684729779137,-0.8449602463941347,-1.0076875438918345,-1.125786855969829,-1.3087175395558157,-1.280688815955572,-1.280688815955572,-1.4268168516338102,-1.4470202377220971,-1.3833511578527198,-1.5959592507341636,-1.5959592507341636,-1.7173814136196264,-1.6609000576671782,-1.7947936369284045,-1.8121677329978272,-1.8899273919106578,-1.8121677329978272,-1.9558559056189662,-1.8899273919106578,-2.0636389492209846,-1.8899273919106578,-2.0636389492209846,-2.4077936143203797,-2.2835745041930604,-2.3622761317690752,-2.5042712783809291,-2.5042712783809291,-2.8044352827671366,-2.8044352827671366],\"text\":[\"Ewins: 103.5<br />pWS: 0.187134195<br />Dodgers\",\"Ewins: 101.5<br />pWS: 0.142902476<br />Braves\",\"Ewins:  93.5<br />pWS: 0.098245452<br />Astros\",\"Ewins:  91.5<br />pWS: 0.074853678<br />Yankees\",\"Ewins:  89.5<br />pWS: 0.049122726<br />Phillies\",\"Ewins:  89.5<br />pWS: 0.052397575<br />Orioles\",\"Ewins:  88.5<br />pWS: 0.052397575<br />Rangers\",\"Ewins:  87.5<br />pWS: 0.037426839<br />Mariners\",\"Ewins:  87.5<br />pWS: 0.035725619<br />Twins\",\"Ewins:  86.5<br />pWS: 0.041366506<br />Blue Jays\",\"Ewins:  84.5<br />pWS: 0.025353665<br />Rays\",\"Ewins:  84.5<br />pWS: 0.025353665<br />Cardinals\",\"Ewins:  83.5<br />pWS: 0.019169844<br />Diamondbacks\",\"Ewins:  83.5<br />pWS: 0.021832323<br />Cubs\",\"Ewins:  83.5<br />pWS: 0.016040074<br />Padres\",\"Ewins:  82.5<br />pWS: 0.015411051<br />Reds\",\"Ewins:  81.5<br />pWS: 0.012884649<br />Giants\",\"Ewins:  80.5<br />pWS: 0.015411051<br />Mets\",\"Ewins:  80.5<br />pWS: 0.011069910<br />Tigers\",\"Ewins:  79.5<br />pWS: 0.012884649<br />Guardians\",\"Ewins:  77.5<br />pWS: 0.008636963<br />Marlins\",\"Ewins:  77.5<br />pWS: 0.012884649<br />Red Sox\",\"Ewins:  76.5<br />pWS: 0.008636963<br />Brewers\",\"Ewins:  75.5<br />pWS: 0.003910267<br />Pirates\",\"Ewins:  73.5<br />pWS: 0.005205057<br />Royals\",\"Ewins:  72.5<br />pWS: 0.004342340<br />Angels\",\"Ewins:  66.5<br />pWS: 0.003131329<br />Nationals\",\"Ewins:  60.5<br />pWS: 0.003131329<br />White Sox\",\"Ewins:  59.5<br />pWS: 0.001568790<br />Rockies\",\"Ewins:  57.5<br />pWS: 0.001568790<br />Athletics\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,0,1)\",\"opacity\":1,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,0,0,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283108,\"r\":7.3059360730593621,\"b\":40.182648401826498,\"l\":54.794520547945211},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[55.200000000000003,105.8],\"tickmode\":\"array\",\"ticktext\":[\"60\",\"70\",\"80\",\"90\",\"100\"],\"tickvals\":[60,70,80,90,100],\"categoryorder\":\"array\",\"categoryarray\":[\"60\",\"70\",\"80\",\"90\",\"100\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Ewins\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-2.908264704540604,-0.62401742552432404],\"tickmode\":\"array\",\"ticktext\":[\"0.003\",\"0.010\",\"0.030\",\"0.100\"],\"tickvals\":[-2.5228787452803374,-2,-1.5228787452803376,-1],\"categoryorder\":\"array\",\"categoryarray\":[\"0.003\",\"0.010\",\"0.030\",\"0.100\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"pWS\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"74c371a2e1da\":{\"x\":{},\"y\":{},\"text\":{},\"type\":\"scatter\"}},\"cur_data\":\"74c371a2e1da\",\"visdat\":{\"74c371a2e1da\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nNow we get a positive log-linear relationship, which is more intuitive. I will note that there really are not any extreme off-diagonal outliers here. A dot far up and to the left in this plot would represent a team \"built for the playoffs\", that is having a much better chance of winning the World Series than their regular season projections would suggest. As far as Vegas is considered, there really are no such teams. The closest would be the Red Sox, with a 1.2% chance compared to the 0.8% chance of the Marlins, despite having the same expected wins 77.5 wins, or put another way the same chance of winning as the giants who have 81.5 expected wins.\n\nSo, are there any teams that are uniquely \"built for the playoffs?\" If you think there is, maybe you should bet on them to win it all. Otherwise, if \"built for the playoffs\" is just a verbose way of saying \"good,\" then maybe we should retire the phrase.\n",
    "supporting": [
      "MLB-2024-Season-Odds_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}